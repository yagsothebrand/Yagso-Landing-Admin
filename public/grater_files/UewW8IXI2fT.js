;/*FB_PKG_DELIM*/

__d("OdsWebBatchFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1838142"),s=o("FalcoLoggerInternal").create("ods_web_batch",e),u=s;l.default=u}),98);
__d("FalcoConsentChecker",[],(function(t,n,r,o,a,i){"use strict";function e(t,n,r,o){var a,i;switch(typeof o){case"string":return a=t[String(o)],a?a<=n:!1;case"number":return e(t,n,r,r[Number(o)]);default:if(i=!1,Array.isArray(o)){for(var l=o[0],s=1;s<o.length;s++)if(i=e(t,n,r,o[s]),i){if(l==="or")return!0}else if(l==="and")return!1}return i}}i.default=e}),66);
__d("ServerTime",["ServerTimeData"],(function(t,n,r,o,a,i,l){var e,s=0,u=0,c=null,d=(e=(typeof window!="undefined"?window:self).performance)==null?void 0:e.timing;if(d){var m=d.requestStart,p=d.domLoading;if(m&&p){var _=r("ServerTimeData").timeOfResponseStart-r("ServerTimeData").timeOfRequestStart,f=p-m-_;u=f/2;var g=p-r("ServerTimeData").timeOfResponseStart-u,h=Math.max(50,f*.8);Math.abs(g)>h&&(s=g,c=Date.now())}}else b(r("ServerTimeData").serverTime);function y(){return Date.now()-s}function C(){return s}function b(e){var t=Date.now()-e;Math.abs(s-t)>6e4&&(s=t,c=Date.now())}function v(){return c===null?null:Date.now()-c}var S=y,R=C;l.getMillis=y,l.getOffsetMillis=C,l.update=b,l.getMillisSinceLastUpdate=v,l.get=S,l.getSkew=R}),98);
__d("FalcoLoggerInternal",["AnalyticsCoreData","FBLogger","FalcoConsentChecker","FalcoLoggerInternalState","FalcoUtils","Promise","Random","ServerTime","WebSession","justknobx","performanceAbsoluteNow"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("FalcoUtils").getTaggedBitmap(0),d=o("FalcoUtils").getTaggedBitmap(37),m=500*1024*.6,p={};function _(){try{var e;if(r("justknobx")._("1276")&&window.self!==window.top&&(e=window.top)!=null&&e.require){var t=window.top.require("FalcoLoggerInternalState");if(t!=null)return r("FBLogger")("falco","iframe_handling").warn("Successfully delegated internal state to top frame"),t.getInstance()}}catch(e){}return r("FalcoLoggerInternalState").getInstance()}var f=_();function g(e,t,n){var a=r("Random").coinflip(t.r);if(!a)return o("FalcoUtils").bumpODSMetrics(n,"event.filters.sampling",1),!1;var i=t.c;if(i!=null&&(s||(s=r("AnalyticsCoreData"))).consents!=null){var l=h(i,(s||(s=r("AnalyticsCoreData"))).consents,e);if(!l)return o("FalcoUtils").bumpODSMetrics(n,"event.filters.consent",1),!1}return!0}function h(e,t,n){var o=p[e];return o==null&&(o=p[e]=JSON.parse(e)),r("FalcoConsentChecker")(t,n,o,o[0])}function y(){return(u||(u=r("performanceAbsoluteNow")))()-o("ServerTime").getOffsetMillis()}function C(e,t,n,o,a,i){if((s||(s=r("AnalyticsCoreData"))).enable_observer){var l=babelHelpers.extends({name:e,time:t,sampled:n,getData:a,policy:o},i&&{getPrivacyContext:i});L.emit("event",l)}}function b(e,t,n,a,i,l){var u=JSON.stringify(i);if(u.length>m){o("FalcoUtils").bumpODSMetrics(e,"event.filters.exceeded_size",1),r("FBLogger")("falco","oversized_message:"+e).warn('Dropping event "%s" due to exceeding the max size %s at %s',e,m,u.length);return}var p=o("FalcoUtils").xorBitmap([0,0],c);p=o("FalcoUtils").xorBitmap(p,d);var _={name:e,policy:t,time:n,extra:u,privacyContext:a,tags:p,sessionId:o("WebSession").getId(),deviceId:(s||(s=r("AnalyticsCoreData"))).device_id,appVersion:s.app_version};l.wrapAndEnqueueItem(_),o("FalcoUtils").bumpODSMetrics(e,"event.captured",1)}function v(e,t,n,r,a){try{var i=y();o("FalcoUtils").bumpODSMetrics(e,"event.logged",1);var l=g(i,t,e);if(l){var s=r(),u=n&&n();b(e,t,i,u,s,a)}C(e,i,l,t,r,n)}catch(e){R(e)}}function S(t,r,a,i,l){try{var s=y();o("FalcoUtils").bumpODSMetrics(t,"event.logged",1);var u=g(s,r,t);if(u){var c=i(),d=(e||(e=n("Promise"))).resolve(a&&a());return e.all([c,d]).then(function(e){var n=e[0],o=e[1];b(t,r,s,o,n,l),C(t,s,u,r,function(){return n},o&&function(){return o})})}else return C(t,s,u,r,i,a),(e||(e=n("Promise"))).resolve()}catch(t){return(e||(e=n("Promise"))).reject(t)}}function R(e){var t=r("FBLogger")("falco");e instanceof Error?t.catching(e).warn("Error while attempting to log to Falco"):t.warn("Caught non-error while attempting to log to Falco: %s",JSON.stringify(e))}var L=f.observable;function E(e,t){var n=f.logQueue,r=f.logImmediatelyQueue,o=f.logCriticalQueue;return{log:function(o,a){v(e,t,a,o,n)},logAsync:function(o,a){S(e,t,a,o,n).catch(R)},logImmediately:function(o,a){v(e,t,a,o,r)},logCritical:function(r,a){v(e,t,a,r,o)},logRealtimeEvent:function(r,a){v(e,t,a,r,o)}}}l.observable=L,l.create=E}),98);
__d("pageID",["WebSession"],(function(t,n,r,o,a,i,l){"use strict";var e=o("WebSession").getPageId_DO_NOT_USE();l.default=e}),98);
__d("WebStorageMutex",["WebStorage","clearTimeout","pageID","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null,u=!1,c=r("pageID");function d(){return u||(u=!0,s=(e||(e=r("WebStorage"))).getLocalStorage()),s}var m=(function(){function t(e){this.name=e}t.testSetPageID=function(t){c=t};var n=t.prototype;return n.$2=function(){var e=d();if(!e)return c;var t=e.getItem("mutex_"+this.name);return t=(t!=null?t:"").split(":"),t&&parseInt(t[1],10)>=Date.now()?t[0]:null},n.$3=function(n){var t=d();if(t){var o=n==null?1e3:n,a=Date.now()+o;(e||(e=r("WebStorage"))).setItemGuarded(t,"mutex_"+this.name,c+":"+a)}},n.hasLock=function(){return this.$2()===c},n.lock=function(t,n,o){var e=this;this.$1&&r("clearTimeout")(this.$1),c===(this.$2()||c)&&this.$3(o),this.$1=r("setTimeout")(function(){e.$1=null;var r=e.hasLock()?t:n;r&&r(e)},0)},n.unlock=function(){this.$1&&r("clearTimeout")(this.$1);var e=d();e&&this.hasLock()&&e.removeItem("mutex_"+this.name)},t})();l.default=m}),98);
__d("guid",[],(function(t,n,r,o,a,i){function e(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"&&typeof String.prototype.padStart=="function"){var e=crypto.getRandomValues(new Uint32Array(2));return"f"+e[0].toString(16).padStart(8,"0")+e[1].toString(16).padStart(8,"0")}return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}i.default=e}),66);
__d("PersistedQueue",["AnalyticsCoreData","BaseEventEmitter","ExecutionEnvironment","Run","WebStorage","WebStorageMutex","cr:8958","err","guid","nullthrows","performanceAbsoluteNow","requestAnimationFrame"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=864e5,m=30*1e3,p=new(r("BaseEventEmitter")),_;function f(t){if(t===void 0&&(t=!1),_===void 0){var n;if((n=(e||(e=r("AnalyticsCoreData"))).queue_activation_experiment)!=null&&n&&t)try{return(s||(s=r("WebStorage"))).getLocalStorageForRead()}catch(e){return null}var o="check_quota";try{var a=(s||(s=r("WebStorage"))).getLocalStorage();a?(a.setItem(o,o),a.removeItem(o),_=a):_=null}catch(e){_=null}}return _}function g(e){var t=e.prev,n=e.next;n&&(n.prev=t),t&&(t.next=n),e.next=null,e.prev=null}function h(e){return{item:e,next:null,prev:null}}function y(e,t){var n;return e+"^$"+((n=t==null?void 0:t.queueNameSuffix)!=null?n:"")}var C={},b={},v={},S=!1,R=(function(){function e(e,t){var n,o=this;if(this.$7=0,this.$3=e,this.$5=(n=t==null?void 0:t.queueNameSuffix)!=null?n:"",this.$4=y(e,t),this.$11=this.$4+"^$"+r("guid")(),this.$14=!1,t){var a;this.$8=(a=t.max_age_in_ms)!=null?a:d,this.$12=t.migrate,this.$13=t.onLoad}else this.$8=d;this.$9=[p.addListener("active",function(){(o.$10!=null||!o.$14)&&(o.$14=!0,o.$10=null,o.$15())}),p.addListener("inactive",function(){o.$10==null&&(o.$10=Date.now(),o.$16())})],((u||(u=r("ExecutionEnvironment"))).canUseDOM||(u||(u=r("ExecutionEnvironment"))).isInWorker)&&r("requestAnimationFrame")(function(){return o.$15()})}var t=e.prototype;return t.isActive=function(){var e=this.$10;return e==null?!0:Date.now()-e>m?(this.$10=null,p.emit("active",null),!0):!1},t.$15=function(){this.$17(),this.$18()},t.$16=function(){this.$19()},t.getFullName=function(){return this.$4},t.getQueueNameSuffix=function(){return this.$5},e.isQueueActivateExperiment=function(){return S},e.setOnQueueActivateExperiment=function(){S=!0},e.create=function(n,o){var t=y(n,o);if(t in C)throw r("err")("Duplicate queue created: "+n);var a=new e(n,o);C[t]=a,v[n]?v[n].push(a):v[n]=[a];var i=b[n];return i&&a.setHandler(i),a},e.setHandler=function(t,n){if(v[t]){var e=v[t];for(var r of e)r.setHandler(n)}b[t]=n},t.destroy=function(){this.$9.forEach(function(e){return e.remove()})},e.destroy=function(t,n){var e=y(t,n);C[e].destroy(),delete C[e]},t.setHandler=function(t){return this.$6=t,this.$18(),this},t.$18=function(){this.$7>0&&this.$6&&this.$6(this)},t.length=function(){return this.$7},t.enumeratedLength=function(){return this.$20().length},e.isPersistenceAllowed=function(){var e=f();return!!e},e.getSuffixesForKey=function(t){var e=[];try{var n=f(!0);if(!n)return e;for(var r=t+"^$",o=0;o<n.length;o++){var a=n.key(o);if(typeof a=="string"&&a.startsWith("mutex_falco_"))n.removeItem(a);else if(typeof a=="string"&&a.startsWith(r)){var i=a.split("^$");if(i.length>2){var l=i[1];e.push(l)}else e.push("")}}}catch(e){}return e},t.$17=function(){var e=this,t=f(!0);if(t){var o=this.$4+"^$",a=new(r("WebStorageMutex"))(o),i=this.$12,l=this.$13;a.lock(function(a){var s=Date.now()-e.$8;try{for(var u=0;u<t.length;u++){var c=t.key(u);if(typeof c=="string"&&c.startsWith(o)){var d=t.getItem(c);if(t.removeItem(c),d!=null&&d.startsWith("{")){var m=n("cr:8958").parse(r("nullthrows")(d));if(m.ts>s)try{for(var p of m.items){var _=i!=null?i(p):p;_=l!=null?l(p):p,e.$21(_)}}catch(e){}}}}}catch(e){}a.unlock(),e.$18()})}},t.$19=function(){var e=f();if(e){var t=this.$20();if(t.length===0){e.getItem(this.$11)!=null&&e.removeItem(this.$11);return}(s||(s=r("WebStorage"))).setItemGuarded(e,this.$11,n("cr:8958").stringify({items:t.map(function(e){return e}),ts:(c||(c=r("performanceAbsoluteNow")))()}))}},t.$20=function(){var e=this.$1,t=[];if(!e)return t;do t.push(e.item);while(e=e.prev);return t.reverse()},t.markItemAsCompleted=function(t){var e=t.prev;g(t),this.$1===t&&(this.$1=e),this.$7--,this.isActive()||this.$19()},t.markItemAsFailed=function(t){g(t);var e=this.$2;if(e){var n=e.prev;n&&(n.next=t,t.prev=n),t.next=e,e.prev=t}this.$2=t,this.isActive()&&this.$18()},t.markItem=function(t,n){n?this.markItemAsCompleted(t):this.markItemAsFailed(t)},t.$21=function(t){var e=h(t),n=this.$1;n&&(n.next=e,e.prev=n),this.$1=e,this.$2||(this.$2=e),this.$7++},t.wrapAndEnqueueItem=function(t){this.$21(t),this.isActive()?this.$18():this.$19()},t.dequeueItem=function(){if(this.$10!=null)return null;var e=this.$2;return e?(this.$2=e.next,e):null},e})();if(R.eventEmitter=p,(u||(u=r("ExecutionEnvironment"))).canUseDOM){var L=o("Run").maybeOnBeforeUnload(function(){p.emit("inactive",null),L==null||L.remove()},!1);if(!L)var E=o("Run").onUnload(function(){p.emit("inactive",null),E.remove()})}l.default=R}),98);
__d("FalcoUtils",["AnalyticsCoreData","ODS","PersistedQueue","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u="ods_web_batch",c=p(33);function d(e){var t;return e.tags=_((t=e.tags)!=null?t:[0,0],c),e}function m(e){if(e){var t=e.fbIdentity,n=e.appScopedIdentity,r=e.claim,o="";if(t){var a=t.accountId,i=t.actorId;o=a+"^#"+i+"^#"}else n!==void 0&&(o="^#^#"+n);return o+"^#"+r}return""}function p(e){return e>30?[0,1<<e-30]:[1<<e,0]}function _(e,t){return[e[0]|t[0],e[1]|t[1]]}function f(t,n,a){var i;t!==u&&(s||(s=o("ODS"))).bumpEntityKey(7173,"entities.ff_js_web."+t+"."+(e||(e=r("AnalyticsCoreData"))).app_id+"."+((i=(e||(e=r("AnalyticsCoreData"))).app_version)!=null?i:"0").split(".")[0]+"."+e.push_phase,n,a)}function g(e,t,n){var o,a=(o=r("PersistedQueue").getSuffixesForKey(e))!=null?o:[];a.push(t);for(var i of a){var l=e+"^$"+i;if(!n.has(l)){var s=r("PersistedQueue").create(e,{onLoad:d,queueNameSuffix:i});n.set(l,s)}}return r("nullthrows")(n.get(e+"^$"+t))}l.identityToString=m,l.getTaggedBitmap=p,l.xorBitmap=_,l.bumpODSMetrics=f,l.createQueue=g}),98);
__d("FalcoLoggerInternalState",["AnalyticsCoreData","BaseEventEmitter","FalcoUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(){var t;this.queuesMap=new Map;var n=(t=o("FalcoUtils")).identityToString((e||(e=r("AnalyticsCoreData"))).identity);this.observable=new(r("BaseEventEmitter")),this.logQueue=o("FalcoUtils").createQueue("falco_queue_log",n,this.queuesMap),this.logImmediatelyQueue=o("FalcoUtils").createQueue("falco_queue_immediately",n,this.queuesMap),this.logCriticalQueue=o("FalcoUtils").createQueue("falco_queue_critical",n,this.queuesMap)}return t.getInstance=function(){return t.$1||(t.$1=new t),t.$1},t})();s.$1=null,l.default=s}),98);
__d("ODS",["ExecutionEnvironment","FBLogger","OdsWebBatchFalcoEvent","Random","Run","clearTimeout","gkx","setTimeout"],(function(t,n,r,o,a,i,l){var e,s,u=(e||(e=r("ExecutionEnvironment"))).canUseDOM||(e||(e=r("ExecutionEnvironment"))).isInWorker,c={};function d(e,t,n,r,o){var a;r===void 0&&(r=1),o===void 0&&(o=1);var i=(a=c[t])!=null?a:null;if(!(i!=null&&i<=0)){s=s||{};var l=s[e]||(s[e]={}),u=l[t]||(l[t]={}),d=u[n]||(u[n]={n:0,d:null}),m=Number(r),_=Number(o);if(i>0&&(m/=i,_/=i),!(!isFinite(m)||!isFinite(_))){if(d.n+=m,arguments.length>=5){var f=d.d;f==null&&(f=0),d.d=f+_}p()}}}var m;function p(){m==null&&(m=r("setTimeout")(function(){h()},r("gkx")("20935")?13e3/2:5e3))}function _(e,t){u&&(c[e]=o("Random").random()<t?t:0)}function f(e,t,n,r){r===void 0&&(r=1),u&&d(e,t,n,r)}function g(e,t,n,r,o){r===void 0&&(r=1),o===void 0&&(o=1),u&&d(e,t,n,r,o)}function h(e){if(e===void 0&&(e="normal"),!u||(r("clearTimeout")(m),m=null,s==null))return;var t=s;s=null;function n(){return{batch:t}}e==="critical"?r("OdsWebBatchFalcoEvent").logCritical(n):r("OdsWebBatchFalcoEvent").log(n)}u&&o("Run").onUnload(function(){h("critical")}),l.setEntitySample=_,l.bumpEntityKey=f,l.bumpFraction=g,l.flush=h}),98);
__d("Deferred",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;(e||(e=n("Promise"))).resolve();var l=(function(){function t(t){var r=this,o=t||e||(e=n("Promise"));this.$1=!1,this.$2=new o(function(e,t){r.$3=e,r.$4=t})}var r=t.prototype;return r.getPromise=function(){return this.$2},r.resolve=function(t){this.$1=!0,this.$3(t)},r.reject=function(t){this.$1=!0,this.$4(t)},r.isSettled=function(){return this.$1},t})();i.default=l}),66);
__d("FBJSON",[],(function(t,n,r,o,a,i){var e=JSON.parse,l=JSON.stringify;i.parse=e,i.stringify=l}),66);
__d("IntlVariations",[],(function(t,n,r,o,a,i){a.exports={BITMASK_GENDER:3,BITMASK_NUMBER:28,GENDER_FEMALE:2,GENDER_MALE:1,GENDER_UNKNOWN:3,NUMBER_FEW:20,NUMBER_MANY:12,NUMBER_ONE:4,NUMBER_OTHER:24,NUMBER_TWO:8,NUMBER_ZERO:16}}),null);
__d("SubscriptionList",["FBLogger"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){this.$1=[],this.$2=e,this.$3=t}var t=e.prototype;return t.add=function(t){var e=this,n={callback:t};return this.$1.push(n),this.$2&&this.$1.length===1&&this.$2(),{remove:function(){var t=e.$1.indexOf(n);if(t===-1){r("FBLogger")("SubscriptionList").mustfix("SubscriptionList: Callback already removed.");return}e.$1.splice(t,1),e.$3&&e.$1.length===0&&e.$3()}}},t.getCallbacks=function(){return this.$1.map(function(e){return e.callback})},t.fireCallbacks=function(t){this.getCallbacks().forEach(function(e){e(t)})},e})();l.default=e}),98);
__d("isInIframe",[],(function(t,n,r,o,a,i){var e=typeof window!="undefined"&&window.top!=null&&window!=window.top;function l(){return e}i.default=l}),66);
__d("ScriptPath",["ErrorGuard","SubscriptionList","TimeSlice","WebStorage","isInIframe"],(function(t,n,r,o,a,i){"use strict";var e,l,s="sp_pi",u=3e4,c=null,d=null,m=new(n("SubscriptionList")),p=null,_=[],f=n("TimeSlice").guard(function(t,r){m.getCallbacks().forEach(function(o){(e||(e=n("ErrorGuard"))).applyWithGuard(function(){o({source:c,dest:d,cause:t,extraData:r})},null,[])})},"ScriptPath Notifying callbacks",{propagationType:n("TimeSlice").PropagationType.ORPHAN});function g(){return d?d.scriptPath:void 0}function h(){var e=(l||(l=n("WebStorage"))).getSessionStorage();!e||n("isInIframe")()||l.setItemGuarded(e,s,JSON.stringify({pageInfo:d,clickPoint:p,time:Date.now()}))}function y(){var e=(l||(l=n("WebStorage"))).getSessionStorageForRead();if(e){var t=e.getItem(s);if(t){var r=JSON.parse(t);r&&(r.time<Date.now()-u&&(e=(l||(l=n("WebStorage"))).getSessionStorage(),e&&e.removeItem(s)),d=r.pageInfo,p=r.clickPoint,d&&(d.restored=!0))}}}y();var C={set:function(t,n,r){c=d,d={scriptPath:t,categoryToken:n,extraData:r||{}},_=[],window._script_path=t,f()},openOverlayView:function(t,n,r){if(t){var e=_.length;(e===0||_[e-1]!==t)&&(c=babelHelpers.extends({},d),d&&(d.topViewEndpoint=t),r&&r.replaceTopOverlay&&e>0?(_[e-1]=t,f("replace_overlay_view",n)):(_.push(t),f("open_overlay_view",n)))}},closeOverlayView:function(t,n){var e=_.lastIndexOf(t);e!==-1&&(c=babelHelpers.extends({},d),d&&(e>0?d.topViewEndpoint=_[e-1]:d.topViewEndpoint=null),_=_.slice(0,e),f("close_overlay_view",n))},setClickPointInfo:function(t){p=t,h()},getClickPointInfo:function(){return p},getScriptPath:g,getCategoryToken:function(){return d?d.categoryToken:void 0},getEarlyFlushPage:function(){var e;return(e=d)==null||(e=e.extraData)==null?void 0:e.ef_page},getTopViewEndpoint:function(){var e=_.length;return e>0?_[e-1]:g()},getPageInfo:function(){return d},getSourcePageInfo:function(){return c},subscribe:function(t){return m.add(n("TimeSlice").guard(t,"ScriptPath.subscribe"))},shutdown:function(){h()}};a.exports=C}),null);
__d("structuredClone",[],(function(t,n,r,o,a,i){"use strict";var e,l=(e=window)==null?void 0:e.structuredClone;i.default=l}),66);