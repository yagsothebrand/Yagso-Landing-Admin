;/*FB_PKG_DELIM*/

__d("IGDChatTabMessageNotificationUtils",["fbt","I64","LSBitFlag","LSIntEnum","MNXMAPreviewImageDecorationType","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime","getLSMediaContactProfilePictureUrl","intlList"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(e,t){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a=yield o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.tables.attachments).getKeyRange(n.threadKey,n.messageId));if(a!=null){var i=a.attachmentType,l=(e||(e=o("I64"))).equal(n.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(4096))||a.stickerType!=null,s=a.hasMedia&&(e||(e=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))||(e||(e=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))||(e||(e=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)),c=a.hasXma&&a.defaultCtaType!=="xma_web_url";if(l||s||c)return a.previewUrl}return null}),d.apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a,i=yield o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.tables.attachments).getKeyRange(n.threadKey,n.messageId));if(i!=null){if((e||(e=o("I64"))).equal(n.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(4096))||i.stickerType!=null)return s._(/*BTDS*/"Sent a sticker.");if(i.hasXma){var l,c=(l=i.headerTitle)!=null?l:"Instagram User",d=i.defaultCtaType,m=i.previewImageDecorationType;m!=null&&(e||(e=o("I64"))).equal(m,(u||(u=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").REEL))?a=s._(/*BTDS*/"Sent a reel by {author}",[s._param("author",c)]):d==="igd_web_post_share"?a=s._(/*BTDS*/"Sent a post by {author}",[s._param("author",c)]):d==="xma_montage_share"?a=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(512),n.displayedContentTypes)?s._(/*BTDS*/"Replied to your story"):s._(/*BTDS*/"Sent a story by {author}",[s._param("author",c)]):(i.playableUrlMimeType==="image/gif"||i.playableUrlMimeType==="video/mp4")&&(a=s._(/*BTDS*/"Sent an attachment."))}else if(i.hasMedia){var p=i.attachmentType;(e||(e=o("I64"))).equal(p,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))?a=s._(/*BTDS*/"Sent a photo."):(e||(e=o("I64"))).equal(p,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?a=s._(/*BTDS*/"Sent a video."):(e||(e=o("I64"))).equal(p,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO))?a=s._(/*BTDS*/"Sent a voice message."):(e||(e=o("I64"))).equal(p,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))&&(a=s._(/*BTDS*/"Sent an attachment."))}}return a}),p.apply(this,arguments)}function _(t,n){return(e||(e=o("I64"))).to_float(t.muteExpireTimeMs)===-1||(e||(e=o("I64"))).to_float(t.muteExpireTimeMs)>n}function f(e,t,n,r,o,a){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,a,i,l){var s,u=(s=a.reactionCreationTimestampMs)!=null?s:a.timestampMs;if((e||(e=o("I64"))).equal(a.actorId,n)||(e||(e=o("I64"))).to_float(u)<i||l!=null&&l.has((e||(e=o("I64"))).to_string(a.threadKey)))return!1;var c=yield t.tables.threads.get(a.threadKey);if(c==null)return!1;var d=_(c,i);return d?!1:r==null?(e||(e=o("I64"))).equal(u,c.lastActivityTimestampMs):!((e||(e=o("I64"))).equal(r.senderId,a.actorId)||!(e||(e=o("I64"))).equal(r.senderId,n))}),g.apply(this,arguments)}function h(e,t,n,r,o){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,a,i){if(n.isAdminMessage||(e||(e=o("I64"))).equal(n.senderId,r)||(e||(e=o("I64"))).to_float(n.timestampMs)<a||i!=null&&i.has((e||(e=o("I64"))).to_string(n.threadKey)))return!1;var l=yield t.tables.threads.get(n.threadKey);return!(l!=null&&_(l,a))}),y.apply(this,arguments)}function C(t,n){var a=t.length,i=String(s._(/*BTDS*/"Instagram User")),l=t.filter(function(t){return!(e||(e=o("I64"))).equal(t[0].contactId,n)}).map(function(e){var t=e[0].nickname,n=e[1];if(t!=null)return t;var r;return(r=n==null?void 0:n.name)!=null?r:i});l.splice(0,0,"you");var u="";if(a!==0){if(a===1){var c,d=t[0],m=d[0],p=d[1];u=m.nickname!=null?m.nickname:(c=p==null?void 0:p.name)!=null?c:i}else if(a===2||a===3)u=r("intlList")(l,r("intlList").CONJUNCTIONS.AND,r("intlList").DELIMITERS.COMMA).toString();else{l.splice(2);var _=String(a-2).concat(" others");l.push(_),u=r("intlList")(l,r("intlList").CONJUNCTIONS.AND,r("intlList").DELIMITERS.COMMA).toString()}return s._(/*BTDS*/"To {subtitle}",[s._param("subtitle",u.replace("and","&"))])}}function b(e,t,n,r,o,a,i){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a,i,l,s,u){var c=yield t.tables.contacts.get(a),d=yield t.tables.threads.get(n),m=c!=null?{mediaPreviewSrc:l,message:s,messageId:i,senderImageSrc:r("getLSMediaContactProfilePictureUrl")(c),senderName:c.name,thread:d,threadKey:(e||(e=o("I64"))).to_string(n),timestampMs:u}:{mediaPreviewSrc:l,message:s,messageId:i,thread:d,threadKey:(e||(e=o("I64"))).to_string(n),timestampMs:u};return m}),v.apply(this,arguments)}l.getMediaPreviewSrc=c,l.generateChatTabNotifPreviewTextForAttachment=m,l.shouldRenderChatTabReactionNotification=f,l.shouldRenderChatTabMessageNotification=h,l.generateChatTabNotifSubtitleTextForGroupMessage=C,l.generateChatTabsPreviewNotification=b}),226);
__d("IGDChatTabMessageNotification.react",["fbt","BaseImage.react","I64","IGDChatTabMessageNotificationUtils","IGDChatTabsEnv","IGDFallbackProfileUrl","IGDSAvatar.react","IGDSBox.react","IGDSTextVariants.react","IGDThreadListNewMessageLoggingDataContext","LSIntEnum","MWPActor.react","MessengerWebUXLogger","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=60,_="x1vd4nto-B",f={fadeIn:{animationDuration:"xs4xyr0",animationName:"x1rp1485",animationTimingFunction:"x4hg4is",$$css:!0},mediaPreview:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",objectFit:"xl1xv1r",$$css:!0},messageBox:{flexBasis:"x1t1x2f9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{backgroundColor:"x7r02ix",borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",boxShadow:"x1wp8tw6",zIndex:"x1vjfegm",":hover_backgroundColor":"x2nact",$$css:!0}};function g(t){var n=o("react-compiler-runtime").c(41),a=t.previewData,l=a.mediaPreviewSrc,d=a.message,_=a.senderImageSrc,g=a.senderName,h=a.thread,y=a.threadKey,C=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),b;n[0]!==C?(b={eventName:"igd_chat_tabs_notification",flowInstanceId:C},n[0]=C,n[1]=b):b=n[1];var v=r("MessengerWebUXLogger").useImpressionLoggerRef(b),S=(e||(e=r("useReStore")))(),R=o("MWPActor.react").useActor(),L;n[2]!==S.tables.contacts||n[3]!==S.tables.participants||n[4]!==y?(L=function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(S.tables.participants,["contactId","nickname"]).getKeyRange((u||(u=o("I64"))).of_string(y)),o("ReQL").fromTableAscending(S.tables.contacts,["name"])).take(5)},n[2]=S.tables.contacts,n[3]=S.tables.participants,n[4]=y,n[5]=L):L=n[5];var E;n[6]!==S||n[7]!==y?(E=[S,y],n[6]=S,n[7]=y,n[8]=E):E=n[8];var k=o("ReQLSuspense").useArray(L,E,i.id+":96"),I;n[9]!==R||n[10]!==k||n[11]!==h?(I=h!=null&&(u||(u=o("I64"))).equal(h.threadType,(c||(c=o("LSIntEnum"))).ofNumber(2))?h.threadName!=null?h.threadName:o("IGDChatTabMessageNotificationUtils").generateChatTabNotifSubtitleTextForGroupMessage(k,R):null,n[9]=R,n[10]=k,n[11]=h,n[12]=I):I=n[12];var T=I,D;n[13]===Symbol.for("react.memo_cache_sentinel")?(D=[f.root,f.fadeIn],n[13]=D):D=n[13];var x;n[14]===Symbol.for("react.memo_cache_sentinel")?(x=s._(/*BTDS*/"Instagram Avatar Profile Picture"),n[14]=x):x=n[14];var $=_!=null?_:o("IGDFallbackProfileUrl").FALLBACK_PROFILE_PIC_URL,P;n[15]!==$?(P=m.jsx(r("IGDSBox.react"),{margin:3,children:m.jsx(r("IGDSAvatar.react"),{alt:x,size:"large",src:$})}),n[15]=$,n[16]=P):P=n[16];var N;n[17]!==g?(N=g!=null?g:s._(/*BTDS*/"Instagram User"),n[17]=g,n[18]=N):N=n[18];var M;n[19]!==N?(M=m.jsx(r("IGDSBox.react"),{children:m.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{maxLines:1,textAlign:"start",zeroMargin:!0,children:N})}),n[19]=N,n[20]=M):M=n[20];var w;n[21]!==T?(w=T!=null&&T!==""?m.jsx(r("IGDSBox.react"),{marginTop:1,width:"100%",children:m.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{maxLines:1,textAlign:"start",zeroMargin:!0,children:T})}):null,n[21]=T,n[22]=w):w=n[22];var A=T!=null?1:2,F;n[23]!==d?(F=d!=null?d:s._(/*BTDS*/"Sent a message."),n[23]=d,n[24]=F):F=n[24];var O;n[25]!==A||n[26]!==F?(O=m.jsx(r("IGDSBox.react"),{marginTop:1,width:"100%",children:m.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",maxLines:A,textAlign:"start",zeroMargin:!0,children:F})}),n[25]=A,n[26]=F,n[27]=O):O=n[27];var B;n[28]!==M||n[29]!==w||n[30]!==O?(B=m.jsxs(r("IGDSBox.react"),{direction:"column",height:"100%",justifyContent:"center",marginEnd:3,overflow:"hidden",paddingY:3,xstyle:f.messageBox,children:[M,w,O]}),n[28]=M,n[29]=w,n[30]=O,n[31]=B):B=n[31];var W;n[32]!==l?(W=l!=null&&m.jsx(r("IGDSBox.react"),{padding:4,children:m.jsx(r("BaseImage.react"),{height:p,src:l,width:p,xstyle:f.mediaPreview})}),n[32]=l,n[33]=W):W=n[33];var q;n[34]!==B||n[35]!==W||n[36]!==P?(q=m.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",height:o("IGDChatTabsEnv").NOTIFICATION_HEIGHT,overflow:"hidden",width:o("IGDChatTabsEnv").NOTIFICATION_WIDTH,xstyle:D,children:[P,B,W]}),n[34]=B,n[35]=W,n[36]=P,n[37]=q):q=n[37];var U;return n[38]!==v||n[39]!==q?(U=m.jsx(r("IGDSBox.react"),{containerRef:v,children:q}),n[38]=v,n[39]=q,n[40]=U):U=n[40],U}l.default=g}),226);
__d("useAddToNotificationQueue",["IGDChatTabsStateContext.react","react","react-compiler-runtime","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=5e3;function c(){var e=o("react-compiler-runtime").c(2),t=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),n;return e[0]!==t?(n=function(n){t==null||t({notification:n,type:"push_notification"}),r("setTimeout")(function(){t==null||t({messageId:n.messageId,type:"clear_notification"})},u)},e[0]=t,e[1]=n):n=e[1],n}l.default=c}),98);
__d("useSubscribeToMessages",["I64","IGDChatTabMessageNotificationUtils","IGDChatTabsStateContext.react","LSIntEnum","MWPActor.react","ReQL","asyncToGeneratorRuntime","react","react-compiler-runtime","useAddToNotificationQueue","useServerTime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useCallback;function d(){var e=o("react-compiler-runtime").c(5),t=o("MWPActor.react").useActor(),a=r("useServerTime")(),i=o("IGDChatTabsStateContext.react").useIGDChatTabsState(),l=r("useAddToNotificationQueue")(),c;return e[0]!==t||e[1]!==l||e[2]!==a||e[3]!==(i==null?void 0:i.openedTabs)?(c=function(r){var e=o("ReQL").fromTableDescending(r.tables.messages.index("timestampMs")).subscribe((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){if(n.operation==="add"){var c=n.value,d=yield o("IGDChatTabMessageNotificationUtils").shouldRenderChatTabMessageNotification(r,c,t,a.valueOf(),i==null?void 0:i.openedTabs);if(d){var m=(s||(s=o("I64"))).equal(c.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(1)),p=m?c.text:yield o("IGDChatTabMessageNotificationUtils").generateChatTabNotifPreviewTextForAttachment(r,c),_=m?null:yield o("IGDChatTabMessageNotificationUtils").getMediaPreviewSrc(r,c),f=yield o("IGDChatTabMessageNotificationUtils").generateChatTabsPreviewNotification(r,c.threadKey,c.senderId,c.messageId,_,p,c.timestampMs);l(f)}}});return function(t,n){return e.apply(this,arguments)}})());return e},e[0]=t,e[1]=l,e[2]=a,e[3]=i==null?void 0:i.openedTabs,e[4]=c):c=e[4],i==null||i.openedTabs,c}l.default=d}),98);
__d("useSubscribeToReactions",["fbt","IGDChatTabMessageNotificationUtils","IGDChatTabsStateContext.react","MWPActor.react","ReQL","asyncToGeneratorRuntime","react","react-compiler-runtime","useAddToNotificationQueue","useServerTime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useCallback,c=function(t){return s._(/*BTDS*/"Reacted {emoji} to your message",[s._param("emoji",t)])},d=function(){return s._(/*BTDS*/"Liked your message")};function m(){var e=o("react-compiler-runtime").c(5),t=o("MWPActor.react").useActor(),a=r("useServerTime")(),i=o("IGDChatTabsStateContext.react").useIGDChatTabsState(),l=r("useAddToNotificationQueue")(),s;return e[0]!==t||e[1]!==l||e[2]!==a||e[3]!==(i==null?void 0:i.openedTabs)?(s=function(r){var e=o("ReQL").fromTableDescending(r.tables.reactions.index("fk_messages")).subscribe((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){if(n.operation==="add"){var s=n.value,u=yield r.tables.messages.index("messageId").get(s.messageId),m=yield o("IGDChatTabMessageNotificationUtils").shouldRenderChatTabReactionNotification(r,t,u,s,a.valueOf(),i==null?void 0:i.openedTabs);if(m){var p=s.reaction==="\u2764"?d():c(s.reaction),_=yield o("IGDChatTabMessageNotificationUtils").generateChatTabsPreviewNotification(r,s.threadKey,s.actorId,s.messageId,null,p,s.timestampMs);l(_)}}});return function(t,n){return e.apply(this,arguments)}})());return e},e[0]=t,e[1]=l,e[2]=a,e[3]=i==null?void 0:i.openedTabs,e[4]=s):s=e[4],i==null||i.openedTabs,s}l.default=m}),226);
__d("useSubscribeToNotifications",["promiseDone","react","react-compiler-runtime","useAsyncReStore","useSubscribeToMessages","useSubscribeToReactions"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(){var e=o("react-compiler-runtime").c(8),t=r("useAsyncReStore")(),n=r("useSubscribeToMessages")(),a=r("useSubscribeToReactions")(),i,l;e[0]!==t||e[1]!==n?(i=function(){var e=t.then(function(e){return n(e)});return(function(){r("promiseDone")(e.then(d))})},l=[t,n],e[0]=t,e[1]=n,e[2]=i,e[3]=l):(i=e[2],l=e[3]),s(i,l);var u,m;e[4]!==t||e[5]!==a?(u=function(){var e=t.then(function(e){return a(e)});return(function(){r("promiseDone")(e.then(c))})},m=[t,a],e[4]=t,e[5]=a,e[6]=u,e[7]=m):(u=e[6],m=e[7]),s(u,m)}function c(e){e()}function d(e){e()}l.default=u}),98);
__d("IGDChatTabMessageNotificationsContainer.react",["CometPressable.react","IGDChatTabMessageNotification.react","IGDChatTabSingleContainerStyles","IGDChatTabsEnv","IGDChatTabsJewelStyles","IGDChatTabsQPLInstanceKeyContext.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDSBox.react","IGDSThemeConstantsHelpers","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","QuickPerformanceLogger","Random","loadIGDChatTabEntryPoint","qpl","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider","useIGDOpenChatTab.react","usePolarisIsSmallScreen","useSubscribeToNotifications"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useCallback,d={chatTabsClosedRoot:{bottom:"xrsf3xo",$$css:!0},chatTabsOpenRoot:{bottom:"xqxrpsi",$$css:!0},mobileNavRoot:{marginBottom:"xp13qc",$$css:!0},pressableContainer:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",$$css:!0},root:{insetInlineEnd:"x145d82y",left:null,right:null,position:"xixxii4",rowGap:"x3pnbk8",zIndex:"x1vjfegm",$$css:!0}},m=3,p=o("IGDSThemeConstantsHelpers").getNumericValue("revamp-nav-bottom-toolbar-height");function _(){var t,n,a=o("react-compiler-runtime").c(24),i=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),l=o("IGDChatTabsStateContext.react").useIGDChatTabsState(),s=r("usePolarisIsSmallScreen")(),c=l==null?void 0:l.notifications,_=(l==null?void 0:l.activeView)!=null;r("useSubscribeToNotifications")();var f=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),g=o("IGDChatTabsQPLInstanceKeyContext.react").useIGDChatTabsQPLInstanceKeyContext(),h=r("MessengerWebUXLogger").useInteractionLogger(),y=_?o("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.NotificationWithTabOpen:o("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.NotificationWithJewel,C=r("useIGDOpenChatTab.react")(),b;a[0]!==i||a[1]!==f||a[2]!==y||a[3]!==h||a[4]!==C||a[5]!==g?(b=function(n){C(n.threadKey,y),i==null||i({messageId:n.messageId,type:"clear_notification"}),h==null||h({eventName:"igd_chat_tabs_notification_clicked",flowInstanceId:f});var t=g.threadViewKeys[n.threadKey]==null,a=o("Random").uint32();g.setThreadViewKey(n.threadKey,a),(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(882771792,"2790"),a),e.markerAnnotate(r("qpl")._(882771792,"2790"),{bool:{isFirstLoad:t},string:{trigger:"notification"}},{instanceKey:a})},a[0]=i,a[1]=f,a[2]=y,a[3]=h,a[4]=C,a[5]=g,a[6]=b):b=a[6];var v=b,S=(t=(n=document.documentElement)==null?void 0:n.clientHeight)!=null?t:0,R=(_?o("IGDChatTabsEnv").CHAT_TAB_HEIGHT+o("IGDChatTabSingleContainerStyles").CHAT_TAB_CONTAINER_MARGIN:o("IGDChatTabsJewelStyles").JEWEL_SIZE+o("IGDChatTabsJewelStyles").JEWEL_MARGIN)+(s?p:0),L=Math.min(Math.floor((S-R)/(o("IGDChatTabsEnv").NOTIFICATION_HEIGHT+o("IGDChatTabsEnv").NOTIFICATION_ROW_GAP)),m),E=r("useCometRelayEntrypointContextualEnvironmentProvider")(),k;a[7]!==E?(k=function(t){r("loadIGDChatTabEntryPoint")(E,t)},a[7]=E,a[8]=k):k=a[8];var I=k;if(c==null||c.size===0||L===0)return null;var T=s&&d.mobileNavRoot,D=_?d.chatTabsOpenRoot:d.chatTabsClosedRoot,x;a[9]!==T||a[10]!==D?(x=[d.root,T,D],a[9]=T,a[10]=D,a[11]=x):x=a[11];var $;a[12]!==c?($=Array.from(c.values()),a[12]=c,a[13]=$):$=a[13];var P;a[14]!==L||a[15]!==$?(P=$.slice(-L),a[14]=L,a[15]=$,a[16]=P):P=a[16];var N;a[17]!==v||a[18]!==I||a[19]!==P?(N=P.map(function(e,t){return u.jsx(r("CometPressable.react"),{expanding:!0,onHoverIn:function(){return I(e.threadKey)},onPress:function(){v(e)},role:"button",xstyle:d.pressableContainer,children:u.jsx(r("IGDChatTabMessageNotification.react"),{previewData:e})},t)}),a[17]=v,a[18]=I,a[19]=P,a[20]=N):N=a[20];var M;return a[21]!==x||a[22]!==N?(M=u.jsx(r("IGDSBox.react"),{direction:"columnReverse",xstyle:x,children:N}),a[21]=x,a[22]=N,a[23]=M):M=a[23],M}l.default=_}),98);
__d("IGDChatTabsContent.entrypoint",["IGPresenceUnifiedSetupQuery$Parameters","JSResourceForInteraction","PolarisViewerSettingsQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e={presenceSetupQueryRef:{parameters:r("IGPresenceUnifiedSetupQuery$Parameters"),variables:{}},viewerSettingsQueryRef:{parameters:r("PolarisViewerSettingsQuery$Parameters"),variables:{}}};return{queries:e}},root:r("JSResourceForInteraction")("IGDChatTabsContent.react").__setRef("IGDChatTabsContent.entrypoint")};l.default=e}),98);
__d("useIGDChatTabsRenderCircularJewel.react",["react-compiler-runtime","useGetPageIDFromCometRouterState.react","useIGDChatTabsReelsPageResize.react","usePolarisIsSmallScreen"],(function(t,n,r,o,a,i,l){"use strict";var e=new Set(["AdTools","boostMediaPage","mediaInsights","insightsMediaGrid"]);function s(){var t=o("react-compiler-runtime").c(2),n=r("useGetPageIDFromCometRouterState.react")(),a=r("usePolarisIsSmallScreen")(),i=r("useIGDChatTabsReelsPageResize.react")(),l=i[0];if(a||l)return!0;if(n==null)return!1;var s;return t[0]!==n?(s=e.has(n),t[0]=n,t[1]=s):s=t[1],s}l.default=s}),98);
__d("IGDChatTabsJewel.react",["fbt","CometPressable.react","IGDChatTabsJewelStyles","IGDChatTabsQPLInstanceKeyContext.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDSBox.react","IGDSDirectPrismOutline24Icon.react","IGDSText.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisBadgeConstants","PolarisDirectNavItemBadge.react","PolarisDirectStringHelpers","PolarisPageTitle.react","QuickPerformanceLogger","Random","deferredLoadComponent","qpl","react","react-compiler-runtime","requireDeferred","useIGDChatTabsGetUnreadThreads.react","useIGDChatTabsRenderCircularJewel.react","usePolarisIsSmallScreen"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m=r("deferredLoadComponent")(r("requireDeferred")("IGDChatTabsPOGs.react").__setRef("IGDChatTabsJewel.react")),p={directIcon:{marginTop:"xvijh9v",$$css:!0},jewelForMobileNav:{width:"x15yg21f",$$css:!0}},_=s._(/*BTDS*/"Messages");function f(){var t=o("react-compiler-runtime").c(50),n=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),a=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),i=o("IGDChatTabsQPLInstanceKeyContext.react").useIGDChatTabsQPLInstanceKeyContext(),l=r("MessengerWebUXLogger").useInteractionLogger(),u=r("usePolarisIsSmallScreen")(),d=r("useIGDChatTabsGetUnreadThreads.react")(),f=d.length,h=f<o("PolarisBadgeConstants").BADGE_COUNT_LIMIT?String(f):o("PolarisBadgeConstants").BADGE_COUNT_LIMIT+"+",y=r("useIGDChatTabsRenderCircularJewel.react")(),C;t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==i||t[4]!==f?(C=function(){n==null||n({type:"open_view",view:o("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView}),l==null||l({eventName:"igd_chat_tabs_jewel_clicked",extraData:{unSeenCount:String(f)},flowInstanceId:a});var t=o("Random").uint32();(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(882771984,"2789"),t),i.threadListKey===0&&(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(r("qpl")._(882771984,"2789"),{bool:{isFirstLoad:!0}},{instanceKey:t}),i.setThreadListKey(t)},t[0]=n,t[1]=a,t[2]=l,t[3]=i,t[4]=f,t[5]=C):C=t[5];var b=C,v;t[6]!==a?(v={eventName:"igd_chat_tabs_jewel",flowInstanceId:a},t[6]=a,t[7]=v):v=t[7];var S=r("MessengerWebUXLogger").useImpressionLoggerRef(v,g),R=r("MessengerWebUXLogger").useImpressionLogger(),L;t[8]!==a||t[9]!==R?(L=function(){R==null||R({eventName:"igd_chat_tabs_badge",flowInstanceId:a})},t[8]=a,t[9]=R,t[10]=L):L=t[10];var E=L,k;t[11]===Symbol.for("react.memo_cache_sentinel")?(k=c.jsx(r("IGDSDirectPrismOutline24Icon.react"),{alt:_,color:"ig-primary-icon"}),t[11]=k):k=t[11];var I=k,T;t[12]!==h||t[13]!==E||t[14]!==f?(T=f>0&&c.jsx(r("IGDSBox.react"),{containerRef:E,children:c.jsx(r("PolarisDirectNavItemBadge.react"),{ariaLabel:o("PolarisDirectStringHelpers").getBadgeNotificationAltText(f),badgeText:f>0?h:void 0})}),t[12]=h,t[13]=E,t[14]=f,t[15]=T):T=t[15];var D;t[16]!==T?(D=c.jsxs(r("IGDSBox.react"),{display:"flex",position:"relative",xstyle:p.directIcon,children:[I,T]}),t[16]=T,t[17]=D):D=t[17];var x=D,$;t[18]!==f?($=f>0?" - "+s._(/*BTDS*/"_j{\"*\":\"{notificationCount} new notifications\",\"_1\":\"{notificationCount} new notification\"}",[s._plural(f),s._param("notificationCount",f)]).toString():"",t[18]=f,t[19]=$):$=t[19];var P=$,N;t[20]===Symbol.for("react.memo_cache_sentinel")?(N=_.toString(),t[20]=N):N=t[20];var M=""+N+P,w=y?"column":"row",A=f===0?2:f<9?3:4,F;t[21]!==x||t[22]!==A?(F=c.jsx(r("IGDSBox.react"),{marginEnd:A,children:x}),t[21]=x,t[22]=A,t[23]=F):F=t[23];var O;t[24]===Symbol.for("react.memo_cache_sentinel")?(O=c.jsx(r("IGDSText.react"),{size:"label",weight:"semibold",children:_}),t[24]=O):O=t[24];var B;t[25]!==F?(B=c.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",children:[F,O]}),t[25]=F,t[26]=B):B=t[26];var W;t[27]!==b||t[28]!==d?(W=c.jsx(m,{onChatTabJewelClick:b,unreadThreads:d}),t[27]=b,t[28]=d,t[29]=W):W=t[29];var q;t[30]!==B||t[31]!==W||t[32]!==M||t[33]!==w?(q=c.jsxs(r("IGDSBox.react"),{accessibilityLabel:M,alignItems:"center",direction:w,display:"flex",justifyContent:"between",position:"relative",width:"100%",children:[B,W]}),t[30]=B,t[31]=W,t[32]=M,t[33]=w,t[34]=q):q=t[34];var U=q,V=u&&o("IGDChatTabsJewelStyles").IGDChatTabsJewelStyles.rootForMobileNav,H;t[35]!==V?(H=[o("IGDChatTabsJewelStyles").IGDChatTabsJewelStyles.root,V],t[35]=V,t[36]=H):H=t[36];var G;t[37]!==f?(G=c.jsx(r("PolarisPageTitle.react"),{badgeConfig:{badgeCount:f,badgeCountLimit:o("PolarisBadgeConstants").BADGE_COUNT_LIMIT}}),t[37]=f,t[38]=G):G=t[38];var z=y&&p.jewelForMobileNav,j;t[39]!==z?(j=[o("IGDChatTabsJewelStyles").IGDChatTabsJewelStyles.button,o("IGDChatTabsJewelStyles").IGDChatTabsJewelStyles.buttonExpanded,z],t[39]=z,t[40]=j):j=t[40];var K=y?x:U,Q;t[41]!==b||t[42]!==j||t[43]!==K?(Q=c.jsx(r("CometPressable.react"),{onPress:b,role:"button",testid:void 0,xstyle:j,children:K}),t[41]=b,t[42]=j,t[43]=K,t[44]=Q):Q=t[44];var X;return t[45]!==S||t[46]!==H||t[47]!==G||t[48]!==Q?(X=c.jsxs(r("IGDSBox.react"),{containerRef:S,xstyle:H,children:[G,Q]}),t[45]=S,t[46]=H,t[47]=G,t[48]=Q,t[49]=X):X=t[49],X}function g(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(882775198,"2787"),2),e.markerAnnotate(r("qpl")._(25305590,"1127"),{string:{entrypoint:"igd_chat_tabs"}})}l.default=f}),226);
__d("IGDChatTabsOmnipickerHeader.react",["fbt","IGDChatTabsHeader.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(){var e=o("react-compiler-runtime").c(8),t=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx(r("IGDSText.react"),{elementType:"h3",size:"label",weight:"semibold",children:s._(/*BTDS*/"New message")}),e[0]=n):n=e[0];var a=n,i;e[1]!==t?(i=function(){t==null||t({type:"open_view",view:o("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView})},e[1]=t,e[2]=i):i=e[2];var l=i,c;e[3]!==t?(c=function(){t==null||t({type:"close_view",view:o("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsOmnipickerView})},e[3]=t,e[4]=c):c=e[4];var d=c,m;return e[5]!==l||e[6]!==d?(m=u.jsx(r("IGDChatTabsHeader.react"),{headerContent:a,headerType:"omnipicker",onClose:d,onGoBack:l}),e[5]=l,e[6]=d,e[7]=m):m=e[7],m}l.default=d}),226);
__d("IGDChatTabsOmnipickerPlaceholder.react",["IGDChatTabSingleTabContainer.react","IGDChatTabsOmnipickerHeader.react","IGDSBox.react","IGDSGlimmer.react","MWXSpinner.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={chatButtonGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("IGDChatTabsOmnipickerHeader.react"),{}),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(r("IGDSBox.react"),{height:400,justifyContent:"center",children:s.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:32})}),e[1]=n):n=e[1];var a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsxs(r("IGDChatTabSingleTabContainer.react"),{children:[t,s.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"column",children:[n,s.jsx(r("IGDSBox.react"),{height:44,paddingX:4,width:"100%",children:s.jsx(r("IGDSGlimmer.react"),{index:2,xstyle:[u.glimmer,u.chatButtonGlimmer]})})]})]}),e[2]=a):a=e[2],a}l.default=c}),98);
__d("IGDChatTabsOmnipickerContainerLazyLoaded.react",["CometPlaceholder.react","IGDChatTabsOmnipickerPlaceholder.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDChatTabsOmnipickerContainer.react").__setRef("IGDChatTabsOmnipickerContainerLazyLoaded.react"));function c(){var e=o("react-compiler-runtime").c(2),t=o("IGDChatTabsStateContext.react").useCurrentChatTabsView();if(t===o("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsOmnipickerView){var n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(r("IGDChatTabsOmnipickerPlaceholder.react"),{}),e[0]=n):n=e[0];var a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(r("CometPlaceholder.react"),{fallback:n,name:i.id,children:s.jsx(u,{})}),e[1]=a):a=e[1],a}return null}l.default=c}),98);
__d("useIGDChatTabsReOpenTabFromInbox.react",["IGDChatTabsStateContext.react","IGDChatTabsStateTypes","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(){var e=o("react-compiler-runtime").c(6),t=o("IGDChatTabsStateContext.react").useIGDChatTabsState(),n=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),r;e[0]!==n||e[1]!==(t==null?void 0:t.selectedThreadKeyFromInbox)?(r=function(){(t==null?void 0:t.selectedThreadKeyFromInbox)!=null&&(n==null||n({source:o("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.DirectInbox,threadKey:t==null?void 0:t.selectedThreadKeyFromInbox,type:"open_tab"}))},e[0]=n,e[1]=t==null?void 0:t.selectedThreadKeyFromInbox,e[2]=r):r=e[2];var a=t==null?void 0:t.selectedThreadKeyFromInbox,i;e[3]!==n||e[4]!==a?(i=[n,a],e[3]=n,e[4]=a,e[5]=i):i=e[5],s(r,i)}l.default=u}),98);
__d("IGDChatTabsRootContent.react",["CometPageletWithDiv.react","CometRelay","HeroInteractionIgnoreWithDiv.react","IGDChatTabMessageNotificationsContainer.react","IGDChatTabsContent.entrypoint","IGDChatTabsJewel.react","IGDChatTabsJewelPlaceholder.react","IGDChatTabsOmnipickerContainerLazyLoaded.react","IGDChatTabsQPLInstanceKeyContext.react","IGDChatTabsStateContext.react","IGDChatTabsThemeProvider.react","IGDChatTabsThreadListContainerPlaceholder.react","IGDPageSetup.react","PolarisSuspenseWithErrorBoundary.react","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider","useIGDChatTabsReOpenTabFromInbox.react","usePolarisIsTinyScreen"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(14),t=o("IGDChatTabsStateContext.react").useIGDChatTabsState(),n=r("usePolarisIsTinyScreen")(),a=r("useCometRelayEntrypointContextualEnvironmentProvider")(),i=o("CometRelay").useEntryPointLoader(a,r("IGDChatTabsContent.entrypoint")),l=i[0],u=i[1];(t==null?void 0:t.activeView)!=null&&l==null&&u({}),r("useIGDChatTabsReOpenTabFromInbox.react")();var c;e[0]!==n?(c={0:"x1vjfegm",1:"x1vjfegm xlshs6z"}[!!n<<0],e[0]=n,e[1]=c):c=e[1];var d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(r("IGDChatTabsJewelPlaceholder.react"),{}),e[2]=d):d=e[2];var m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(r("IGDChatTabsJewelPlaceholder.react"),{}),e[3]=m):m=e[3];var p,_,f;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(r("IGDChatTabsJewel.react"),{}),_=s.jsx(r("IGDChatTabMessageNotificationsContainer.react"),{}),f=s.jsx(r("IGDChatTabsOmnipickerContainerLazyLoaded.react"),{}),e[4]=p,e[5]=_,e[6]=f):(p=e[4],_=e[5],f=e[6]);var g;e[7]!==l?(g=l!=null&&s.jsx(r("PolarisSuspenseWithErrorBoundary.react"),{loadingRenderer:s.jsx(r("IGDChatTabsThreadListContainerPlaceholder.react"),{}),name:"IGDChatTabsContent",children:s.jsx(o("CometRelay").EntryPointContainer,{entryPointReference:l,props:{}})}),e[7]=l,e[8]=g):g=e[8];var h;e[9]!==g?(h=s.jsx(o("IGDChatTabsQPLInstanceKeyContext.react").IGDChatTabsQPLInstanceKeyContextProvider,{children:s.jsx(r("IGDChatTabsThemeProvider.react"),{children:s.jsx(r("HeroInteractionIgnoreWithDiv.react"),{children:s.jsxs(r("IGDPageSetup.react"),{disableRouteProvider:!0,placeholder:m,shouldUseDeferredLoadingStrategy:!1,threadDisplayType:"ChatTab",children:[p,_,f,g]})})})}),e[9]=g,e[10]=h):h=e[10];var y;return e[11]!==c||e[12]!==h?(y=s.jsx(o("CometPageletWithDiv.react").Placeholder,{className:c,fallback:d,name:"IGDChatTabsRootContent",children:h}),e[11]=c,e[12]=h,e[13]=y):y=e[13],y}l.default=u}),98);